<h1 style="display:inline-block;">[####TITLE####]</h1>
<div align="left">
	<a href="?/page/samples.templating-test" class="ux-button ux-button-small"><i class="fa fa-refresh"></i> &nbsp; Reload TPL Render Test</a>
	&nbsp;&nbsp;
	<a href="?/page/samples.templating-test/op/viewsource" target="tpl_m_view_source" data-smart="open.modal" class="ux-button ux-button-small"><i class="fa fa-code"></i> &nbsp; View TPL Source</a>
</div>
<div id="tpl-test">
[%%%%COMMENT%%%%]
	File: templating-test.inc.htm
[%%%%/COMMENT%%%%][%%%%COMMENT%%%%]Another Comment[%%%%/COMMENT%%%%]<!-- comments removed -->
<!-- Test for Markers-Templating -->
<!-- Test BOOL ([####TEST-NUM|html####]) : [####TEST-NUM|bool####] -->
<!-- Test INTEGER ([####TEST-NUM|html####]) : [####TEST-NUM|int####] -->
<!-- Test NUMERIC ([####TEST-NUM|html####]) : [####TEST-NUM|num####] -->
<!-- Test HTML-ID ([####TEST-STR|html####]) : [####TEST-STR|htmid####] -->
<!-- Test JS-VAR ([####TEST-STR|html####]) : [####TEST-STR|jsvar####] -->
<!-- Test JSON ([####TEST-STR|html####]) : [####TEST-STR|json####] -->
<!-- Test URL ([####TEST-URL|html####][####TEST-STR|html####]) : [####TEST-URL|html####][####TEST-STR|url|html####] -->
<!-- Test JS ([####TEST-STR|html####]) : '[####TEST-STR|js####]' -->
<!-- Test NL2BR ([####TEST-TXT|html####]) : [####TEST-TXT|html|nl2br####] -->
<!-- Test SUBSTR10 ([####TEST-UNISTR####]) : [####TEST-UNISTR|substr10####] -->
<!-- Test SUBTXT13 w. space after 10 ([####TEST-UNISTR####]) : [####TEST-UNISTR|subtxt13####] -->
[%%%%|SPACE%%%%]@SPACE[%%%%|T%%%%]@TAB[%%%%|R%%%%]@NEW-LINE(CR+LF)[%%%%|N%%%%]#
<hr>
<div>
	<b>Switch Eval for Status = [####STATUS####]</b>
	<div>
		[%%%%IF:STATUS:==####TEST-COMPARE####;%%%%]
			<span style="color:#003399">is equal with TEST-COMPARE [a]</span>
		[%%%%ELSE:STATUS%%%%]
			<span style="color:#FF3300">is NOT equal with TEST-COMPARE [a]</span>
		[%%%%/IF:STATUS%%%%]
	</div>
	<div>
		[%%%%IF:STATUS:@=a|b|c;%%%%]
			<span style="color:#003399">IN [A | B | C]</span>
		[%%%%ELSE:STATUS%%%%]
			<span style="color:#FF3300">NOT IN [ A | B | C ]</span>
		[%%%%/IF:STATUS%%%%]
	</div>
	<b>Inverted Switch Eval for Status = [####STATUS####]</b>
	<div>
		[%%%%IF:STATUS:@!a|b|c;%%%%]
			<span style="color:#FF3300">NOT IN [ A | B | C ]</span>
		[%%%%ELSE:STATUS%%%%]
			<span style="color:#003399">IN [A | B | C]</span>
		[%%%%/IF:STATUS%%%%]
	</div>
</div>
<hr>
[%%%%IF:TEST1:<=3;%%%%]
	[%%%%IF:TEST2:==3;(1)%%%%]
		[%%%%IF:TEST3:==3;%%%%]
			This is displayed when TEST2 is = 3<br>
		[%%%%/IF:TEST3%%%%]
	[%%%%ELSE:TEST2(1)%%%%]
		This is displayed when TEST2 is != 3 (ELSE)<br>
	[%%%%/IF:TEST2(1)%%%%]
[%%%%/IF:TEST1%%%%]
[%%%%IF:TEST2:==3;(2)%%%%]
	This also appears when TEST2 is 3<br>
[%%%%/IF:TEST2(2)%%%%]
<hr>
[%%%%IF:DATA:@+0;(1)%%%%]
<!-- Count of DATA is > 0 -->
[%%%%ELSE:DATA(1)%%%%]
<!-- Count of DATA is < 0 -->
[%%%%/IF:DATA(1)%%%%]
[%%%%IF:DATA:@-100000;(2)%%%%]
<!-- Count of DATA is < 100000 -->
[%%%%ELSE:DATA(2)%%%%]
<!-- Count of DATA is > 100000 -->
[%%%%/IF:DATA(2)%%%%]
<table width="550" cellpadding="4">
[%%%%LOOP:DATA(1)%%%%]
[%%%%IF:TEST2:==3;%%%%]
	<!-- Max Data MaxCount for Iterator: [####DATA._-MAXCOUNT-_|html####] / [####DATA._-ITERATOR-_|html####] -->
	[%%%%IF:DATA._-ITERATOR-_:<=0;(1)%%%%]
		<tr style="background:#003399;color:#FFFFFF;">
			<td colspan="5"><b>[####DATA._-VAL-_|html####]</b></td>
		</tr>
	[%%%%ELSE:DATA._-ITERATOR-_(1)%%%%]
		[%%%%IF:DATA._-ITERATOR-_:%2;(2)%%%%]
		<tr style="background:#ECECEC;">
		[%%%%ELSE:DATA._-ITERATOR-_(2)%%%%]
		<tr style="background:#FFCC00;">
		[%%%%/IF:DATA._-ITERATOR-_(2)%%%%]
			<td>[####DATA.ID|html####]</td>
			<td>[####DATA.SLUG|html####]</td>
			<td>[####DATA.NAME|html####]</td>
			[%%%%IF:DATA.IS_VOWEL:==1;%%%%]
				[%%%%IF:DATA.SLUG:==####TEST-COMPARE####;%%%%]
				<td>First*** Vowel: [[####DATA.IS_VOWEL|bool|html####]]</td>
				[%%%%ELSE:DATA.SLUG%%%%]
				<td>Vowel: [[####DATA._-VAL-_.IS_VOWEL|bool|html####]]</td>
				[%%%%/IF:DATA.SLUG%%%%]
			[%%%%ELSE:DATA.IS_VOWEL%%%%]
				<td>Consonant: [[####DATA.IS_VOWEL|bool|html####]]</td>
			[%%%%/IF:DATA.IS_VOWEL%%%%]
			<td>[%%%%LOOP:DATA.ARR%%%%]<span>[####DATA.ARR._-VAL-_|html####]; </span>[%%%%/LOOP:DATA.ARR%%%%]</td>
		</tr>
		[%%%%IF:DATA.ID:!%2;%%%%]
		<!-- Data ID is !% 2 -->
		[%%%%/IF:DATA.ID%%%%]
	[%%%%/IF:DATA._-ITERATOR-_(1)%%%%]
[%%%%ELSE:TEST2%%%%]
	[%%%%IF:DATA._-ITERATOR-_:<=0;(3)%%%%]
	<tr><td style="background:#FF3300;color:#FFFFFF;"><b>Test 2 is not 3, not showing real data ...</b></td></tr>
	[%%%%/IF:DATA._-ITERATOR-_(3)%%%%]
[%%%%/IF:TEST2%%%%]
[%%%%IF:DATA._-ITERATOR-_:==####DATA._-MAXCOUNT-_####;(4)%%%%]
	<!-- Nested IF by LOOP Test @ Last Row from Loop: Iterator=[####DATA._-ITERATOR-_|html####] ; MaxCount=[####DATA._-MAXCOUNT-_|html####] -->
[%%%%/IF:DATA._-ITERATOR-_(4)%%%%]
[%%%%/LOOP:DATA(1)%%%%]
</table>
<hr>
<table width="550" cellpadding="4">
[%%%%LOOP:DAT2%%%%]
	<!-- Max Data2 MaxCount for Iterator: [####DAT2._-MAXCOUNT-_|html####] / [####DAT2._-ITERATOR-_|html####] -->
	[%%%%IF:DAT2._-KEY-_:!=key1;%%%%]
		[%%%%IF:DAT2._-ITERATOR-_:!%2;%%%%]
		<tr style="background:#DDEEFF;">
		[%%%%ELSE:DAT2._-ITERATOR-_%%%%]
		<tr style="background:#FFFFFF;">
		[%%%%/IF:DAT2._-ITERATOR-_%%%%]
		<td>[####DAT2._-KEY-_|html####]</td>
		<td>[####DAT2._-VAL-_|html####]</td>
	</tr>
	[%%%%ELSE:DAT2._-KEY-_%%%%]
	<tr style="background:#FFFFCC;">
		<td>[####DAT2._-KEY-_|html####]</td>
		<td>[%%%%LOOP:DAT2.KEY1%%%%]<span style="[%%%%IF:DAT2.KEY1.ID:==val1;%%%%]font-weight:bold;[%%%%ELSE:DAT2.KEY1.ID%%%%][%%%%/IF:DAT2.KEY1.ID%%%%]">[####DAT2.KEY1._-KEY-_|html####] =&gt; [####DAT2.KEY1._-VAL-_|html####]; </span>[%%%%/LOOP:DAT2.KEY1%%%%]</td>
	</tr>
	[%%%%/IF:DAT2._-KEY-_%%%%]
[%%%%/LOOP:DAT2%%%%]
</table>
<hr>
<br>
<div style="font-weight:bold; font-size:16px; background:#ECECEC;"> PHP Test for Marker escaping :: VALID Escaping Sequences for a Marker (below):<br>[####MARKER|html####]</div>
[@@@@SUB-TEMPLATE:templating-test-partial.inc.htm@@@@]
<script>
var sub_tpl_path = "[####VIEWS-PATH|js####]templating-test-partial.inc.htm";
var the_marker = '[####MARKER|js####]';
jQuery.ajax({
	async: true,
	cache: false,
	timeout: 0,
	type: 'GET',
	url: sub_tpl_path,
	//--
	success: function(msg) {
		//-- load tpl
		var tpl = SmartJS_CoreUtils.render_markers_template(msg, {
			'MARKER': the_marker,
			'MARK-AREA': 'js'
		});
		//console.log('JS-TPL Renderer [' + the_marker + ']:\n' + tpl);
		jQuery('#tpl-test').append(tpl); // apend it to body
		//--
		var the_tpl_php = jQuery('#test-markers-area-php').text();
		//console.log('PHP-TPL Renderer [' + the_marker + ']:\n' + the_tpl_php);
		var errors = 0;
		if(the_tpl_php == '') {
			errors++;
			alert('WARNING: PHP-TPL: Cannot get value !');
		} //end if
		var the_tpl_js = jQuery('#test-markers-area-js').text();
		if(the_tpl_js == '') {
			errors++;
			alert('WARNING: JS-TPL: Cannot get value !');
		} //end if
		if(the_tpl_php != the_tpl_js) {
			errors++;
			alert('WARNING: JS-TPL Renderer differs from PHP-TPL Renderer (1) !');
		} //end if
		if(SmartJS_CoreUtils.stringTrim(the_tpl_php) != SmartJS_CoreUtils.stringTrim(jQuery('<div/>').html(tpl).text())) {
			errors++;
			console.log('WARNING: HTML Normalized TPL from JS' + SmartJS_CoreUtils.stringTrim(jQuery('<div/>').html(tpl).text()));
			alert('WARNING: JS-TPL Renderer differs from PHP-TPL Renderer (2) !');
		} //end if
		//--
		if(!errors) {
			jQuery('#tpl-test').prepend('<h2 style="color:#33CC33;">TPL JS/PHP Render comparison: OK</h2>');
		} else {
			jQuery('#tpl-test').prepend('<h2 style="color:#FF3300;">TPL JS/PHP Render comparison: FAILED</h2>');
		} //end if
		//--
	},
	error: function(msg) {
		alert('ERROR: Could not load the TPL Sub-Template: ' + sub_tpl_path, '' + msg.responseText);
	}
});
</script>
<br>
<div style="font-weight:bold; font-size:16px; background:#ECECEC;"> JS Test for Marker escaping :: VALID Escaping Sequences for a Marker (below):<br>[####MARKER|html####]</div>
</div>
<hr>
<h1>#END Test</h1>
<br>